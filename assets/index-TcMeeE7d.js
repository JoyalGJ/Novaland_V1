import{bV as j,bY as O,c2 as I,bU as m,c0 as F,ch as V,bZ as D,bX as $,ci as z,c1 as G,au as S,ce as x,c3 as H}from"./index-BzFxWc_h.js";const de="0x0000000000000000000000000000000000000000",he="0x0000000000000000000000000000000000000000000000000000000000000000";function fe(r){return j(O(r))}function J(r){r=atob(r);const t=[];for(let e=0;e<r.length;e++)t.push(r.charCodeAt(e));return I(t)}function Z(r){r=I(r);let t="";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return btoa(t)}const K="web/5.7.1";var X=function(r,t,e,i){function s(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function d(l){try{a(i.next(l))}catch(f){o(f)}}function c(l){try{a(i.throw(l))}catch(f){o(f)}}function a(l){l.done?n(l.value):s(l.value).then(d,c)}a((i=i.apply(r,t||[])).next())})};function Y(r,t){return X(this,void 0,void 0,function*(){t==null&&(t={});const e={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(t.skipFetchSetup!==!0&&(e.mode="cors",e.cache="no-cache",e.credentials="same-origin",e.redirect="follow",e.referrer="client"),t.fetchOptions!=null){const o=t.fetchOptions;o.mode&&(e.mode=o.mode),o.cache&&(e.cache=o.cache),o.credentials&&(e.credentials=o.credentials),o.redirect&&(e.redirect=o.redirect),o.referrer&&(e.referrer=o.referrer)}const i=yield fetch(r,e),s=yield i.arrayBuffer(),n={};return i.headers.forEach?i.headers.forEach((o,d)=>{n[d.toLowerCase()]=o}):i.headers.keys().forEach(o=>{n[o.toLowerCase()]=i.headers.get(o)}),{headers:n,statusCode:i.status,statusMessage:i.statusText,body:I(new Uint8Array(s))}})}var Q=function(r,t,e,i){function s(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function d(l){try{a(i.next(l))}catch(f){o(f)}}function c(l){try{a(i.throw(l))}catch(f){o(f)}}function a(l){l.done?n(l.value):s(l.value).then(d,c)}a((i=i.apply(r,t||[])).next())})};const P=new m(K);function M(r){return new Promise(t=>{setTimeout(t,r)})}function E(r,t){if(r==null)return null;if(typeof r=="string")return r;if(V(r)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json"))try{return D(r)}catch{}return $(r)}return r}function W(r){return O(r.replace(/%([0-9a-f][0-9a-f])/gi,(t,e)=>String.fromCharCode(parseInt(e,16))))}function B(r,t,e){const i=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;P.assertArgument(i>0&&i%1===0,"invalid connection throttle limit","connection.throttleLimit",i);const s=typeof r=="object"?r.throttleCallback:null,n=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;P.assertArgument(n>0&&n%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",n);const o=typeof r=="object"?!!r.errorPassThrough:!1,d={};let c=null;const a={method:"GET"};let l=!1,f=2*60*1e3;if(typeof r=="string")c=r;else if(typeof r=="object"){if((r==null||r.url==null)&&P.throwArgumentError("missing URL","connection.url",r),c=r.url,typeof r.timeout=="number"&&r.timeout>0&&(f=r.timeout),r.headers)for(const u in r.headers)d[u.toLowerCase()]={key:u,value:String(r.headers[u])},["if-none-match","if-modified-since"].indexOf(u.toLowerCase())>=0&&(l=!0);if(a.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){c.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&P.throwError("basic authentication requires a secure https url",m.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:r.user,password:"[REDACTED]"});const u=r.user+":"+r.password;d.authorization={key:"Authorization",value:"Basic "+Z(O(u))}}r.skipFetchSetup!=null&&(a.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(a.fetchOptions=F(r.fetchOptions))}const U=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),w=c?c.match(U):null;if(w)try{const u={statusCode:200,statusMessage:"OK",headers:{"content-type":w[1]||"text/plain"},body:w[2]?J(w[3]):W(w[3])};let h=u.body;return e&&(h=e(u.body,u)),Promise.resolve(h)}catch(u){P.throwError("processing response error",m.errors.SERVER_ERROR,{body:E(w[1],w[2]),error:u,requestBody:null,requestMethod:"GET",url:c})}t&&(a.method="POST",a.body=t,d["content-type"]==null&&(d["content-type"]={key:"Content-Type",value:"application/octet-stream"}),d["content-length"]==null&&(d["content-length"]={key:"Content-Length",value:String(t.length)}));const _={};Object.keys(d).forEach(u=>{const h=d[u];_[h.key]=h.value}),a.headers=_;const b=function(){let u=null;return{promise:new Promise(function(y,v){f&&(u=setTimeout(()=>{u!=null&&(u=null,v(P.makeError("timeout",m.errors.TIMEOUT,{requestBody:E(a.body,_["content-type"]),requestMethod:a.method,timeout:f,url:c})))},f))}),cancel:function(){u!=null&&(clearTimeout(u),u=null)}}}(),q=function(){return Q(this,void 0,void 0,function*(){for(let u=0;u<i;u++){let h=null;try{if(h=yield Y(c,a),u<i){if(h.statusCode===301||h.statusCode===302){const y=h.headers.location||"";if(a.method==="GET"&&y.match(/^https:/)){c=h.headers.location;continue}}else if(h.statusCode===429){let y=!0;if(s&&(y=yield s(u,c)),y){let v=0;const T=h.headers["retry-after"];typeof T=="string"&&T.match(/^[1-9][0-9]*$/)?v=parseInt(T)*1e3:v=n*parseInt(String(Math.random()*Math.pow(2,u))),yield M(v);continue}}}}catch(y){h=y.response,h==null&&(b.cancel(),P.throwError("missing response",m.errors.SERVER_ERROR,{requestBody:E(a.body,_["content-type"]),requestMethod:a.method,serverError:y,url:c}))}let k=h.body;if(l&&h.statusCode===304?k=null:!o&&(h.statusCode<200||h.statusCode>=300)&&(b.cancel(),P.throwError("bad response",m.errors.SERVER_ERROR,{status:h.statusCode,headers:h.headers,body:E(k,h.headers?h.headers["content-type"]:null),requestBody:E(a.body,_["content-type"]),requestMethod:a.method,url:c})),e)try{const y=yield e(k,h);return b.cancel(),y}catch(y){if(y.throttleRetry&&u<i){let v=!0;if(s&&(v=yield s(u,c)),v){const T=n*parseInt(String(Math.random()*Math.pow(2,u)));yield M(T);continue}}b.cancel(),P.throwError("processing response error",m.errors.SERVER_ERROR,{body:E(k,h.headers?h.headers["content-type"]:null),error:y,requestBody:E(a.body,_["content-type"]),requestMethod:a.method,url:c})}return b.cancel(),k}return P.throwError("failed response",m.errors.SERVER_ERROR,{requestBody:E(a.body,_["content-type"]),requestMethod:a.method,url:c})})}();return Promise.race([b.promise,q])}function ee(r,t,e){let i=(n,o)=>{let d=null;if(n!=null)try{d=JSON.parse(D(n))}catch(c){P.throwError("invalid JSON",m.errors.SERVER_ERROR,{body:n,error:c})}return e&&(d=e(d,o)),d},s=null;if(t!=null){s=O(t);const n=typeof r=="string"?{url:r}:F(r);n.headers?Object.keys(n.headers).filter(d=>d.toLowerCase()==="content-type").length!==0||(n.headers=F(n.headers),n.headers["content-type"]="application/json"):n.headers={"content-type":"application/json"},r=n}return B(r,s,i)}function te(r,t){return t||(t={}),t=F(t),t.floor==null&&(t.floor=0),t.ceiling==null&&(t.ceiling=1e4),t.interval==null&&(t.interval=250),new Promise(function(e,i){let s=null,n=!1;const o=()=>n?!1:(n=!0,s&&clearTimeout(s),!0);t.timeout&&(s=setTimeout(()=>{o()&&i(new Error("timeout"))},t.timeout));const d=t.retryLimit;let c=0;function a(){return r().then(function(l){if(l!==void 0)o()&&e(l);else if(t.oncePoll)t.oncePoll.once("poll",a);else if(t.onceBlock)t.onceBlock.once("block",a);else if(!n){if(c++,c>d){o()&&i(new Error("retry limit reached"));return}let f=t.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<t.floor&&(f=t.floor),f>t.ceiling&&(f=t.ceiling),setTimeout(a,f)}return null},function(l){o()&&i(l)})}a()})}const me=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:B,fetchJson:ee,poll:te},Symbol.toStringTag,{value:"Module"})),re="abstract-provider/5.7.0";var ie=function(r,t,e,i){function s(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function d(l){try{a(i.next(l))}catch(f){o(f)}}function c(l){try{a(i.throw(l))}catch(f){o(f)}}function a(l){l.done?n(l.value):s(l.value).then(d,c)}a((i=i.apply(r,t||[])).next())})};const R=new m(re);class C extends z{static isForkEvent(t){return!!(t&&t._isForkEvent)}}class ne extends C{constructor(t,e){G(t,32)||R.throwArgumentError("invalid blockHash","blockHash",t),super({_isForkEvent:!0,_isBlockForkEvent:!0,expiry:e||0,blockHash:t})}}class se extends C{constructor(t,e){G(t,32)||R.throwArgumentError("invalid transaction hash","hash",t),super({_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:e||0,hash:t})}}class oe extends C{constructor(t,e,i){G(t,32)||R.throwArgumentError("invalid transaction hash","beforeHash",t),G(e,32)||R.throwArgumentError("invalid transaction hash","afterHash",e),super({_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:i||0,beforeHash:t,afterHash:e})}}class L{constructor(){R.checkAbstract(new.target,L),S(this,"_isProvider",!0)}getFeeData(){return ie(this,void 0,void 0,function*(){const{block:t,gasPrice:e}=yield x({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let i=null,s=null,n=null;return t&&t.baseFeePerGas&&(i=t.baseFeePerGas,n=H.from("1500000000"),s=t.baseFeePerGas.mul(2).add(n)),{lastBaseFeePerGas:i,maxFeePerGas:s,maxPriorityFeePerGas:n,gasPrice:e}})}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!!(t&&t._isProvider)}}const ye=Object.freeze(Object.defineProperty({__proto__:null,BlockForkEvent:ne,ForkEvent:C,Provider:L,TransactionForkEvent:se,TransactionOrderForkEvent:oe},Symbol.toStringTag,{value:"Module"})),ae="abstract-signer/5.7.0";var g=function(r,t,e,i){function s(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function d(l){try{a(i.next(l))}catch(f){o(f)}}function c(l){try{a(i.throw(l))}catch(f){o(f)}}function a(l){l.done?n(l.value):s(l.value).then(d,c)}a((i=i.apply(r,t||[])).next())})};const p=new m(ae),le=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ce=[m.errors.INSUFFICIENT_FUNDS,m.errors.NONCE_EXPIRED,m.errors.REPLACEMENT_UNDERPRICED];class A{constructor(){p.checkAbstract(new.target,A),S(this,"_isSigner",!0)}getBalance(t){return g(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return g(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return g(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const e=yield x(this.checkTransaction(t));return yield this.provider.estimateGas(e)})}call(t,e){return g(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield x(this.checkTransaction(t));return yield this.provider.call(i,e)})}sendTransaction(t){return g(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),i=yield this.signTransaction(e);return yield this.provider.sendTransaction(i)})}getChainId(){return g(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return g(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return g(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return g(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const i in t)le.indexOf(i)===-1&&p.throwArgumentError("invalid transaction key: "+i,"transaction",t);const e=F(t);return e.from==null?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&p.throwArgumentError("from address mismatch","transaction",t),i[0])),e}populateTransaction(t){return g(this,void 0,void 0,function*(){const e=yield x(this.checkTransaction(t));e.to!=null&&(e.to=Promise.resolve(e.to).then(s=>g(this,void 0,void 0,function*(){if(s==null)return null;const n=yield this.resolveName(s);return n==null&&p.throwArgumentError("provided ENS name resolves to null","tx.to",s),n})),e.to.catch(s=>{}));const i=e.maxFeePerGas!=null||e.maxPriorityFeePerGas!=null;if(e.gasPrice!=null&&(e.type===2||i)?p.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(e.type===0||e.type===1)&&i&&p.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(e.type===2||e.type==null)&&e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null)e.type=2;else if(e.type===0||e.type===1)e.gasPrice==null&&(e.gasPrice=this.getGasPrice());else{const s=yield this.getFeeData();if(e.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(e.type=2,e.gasPrice!=null){const n=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=n,e.maxPriorityFeePerGas=n}else e.maxFeePerGas==null&&(e.maxFeePerGas=s.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(i&&p.throwError("network does not support EIP-1559",m.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),e.gasPrice==null&&(e.gasPrice=s.gasPrice),e.type=0):p.throwError("failed to get consistent fee data",m.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else e.type===2&&(e.maxFeePerGas==null&&(e.maxFeePerGas=s.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return e.nonce==null&&(e.nonce=this.getTransactionCount("pending")),e.gasLimit==null&&(e.gasLimit=this.estimateGas(e).catch(s=>{if(ce.indexOf(s.code)>=0)throw s;return p.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",m.errors.UNPREDICTABLE_GAS_LIMIT,{error:s,tx:e})})),e.chainId==null?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then(s=>(s[1]!==0&&s[0]!==s[1]&&p.throwArgumentError("chainId address mismatch","transaction",t),s[0])),yield x(e)})}_checkProvider(t){this.provider||p.throwError("missing provider",m.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class N extends A{constructor(t,e){super(),S(this,"address",t),S(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then(()=>{p.throwError(t,m.errors.UNSUPPORTED_OPERATION,{operation:e})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,i){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new N(this.address,t)}}const pe=Object.freeze(Object.defineProperty({__proto__:null,Signer:A,VoidSigner:N},Symbol.toStringTag,{value:"Module"}));export{de as A,C as F,he as H,L as P,A as S,N as V,B as _,pe as a,ye as b,J as d,Z as e,ee as f,fe as i,me as l,te as p};
